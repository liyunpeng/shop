micro api --namespace=go.micro.srv
replace (
	product => ../product
	user => ../user
)

replace github.com/golang/lint => golang.org/x/lint v0.0.0-20190409202823-959b441ac422

replace github.com/testcontainers/testcontainer-go => github.com/testcontainers/testcontainers-go v0.0.3

product$ go run main.go plugin.go database.go 
2020-05-14 21:14:51.012737 I | Transport [http] Listening on [::]:50366
2020-05-14 21:14:51.012825 I | Broker [http] Connected to [::]:50367
2020-05-14 21:14:51.013366 I | Registry [mdns] Registering node: go.micro.srv.product-4df6072f-de9c-4cbd-acaf-c429fef4a8d5
2020-05-14 21:17:03.105911 I | Received Product.Detail request
2020-05-14 21:19:49.236229 I | Received Product.Detail request
2020-05-14 21:23:36.604127 I | Received Product.Detail request
2020-05-14 21:23:48.639752 I | Received Product.Detail request
2020-05-14 21:23:48.666078 I | Received Product.Detail request
2020-05-14 21:23:48.673943 I | 库存数量为:99
2020-05-14 21:50:50.693988 I | Registry [mdns] Deregistering node: go.micro.srv.product-4df6072f-de9c-4cbd-acaf-c429fef4a8d5

order$ go run main.go plugin.go database.go 
2020-05-14 21:15:29.494624 I | Transport [http] Listening on [::]:50432
2020-05-14 21:15:29.537449 I | Broker [kafka] Connected to 127.0.0.1:9092
2020-05-14 21:15:29.537729 I | Registry [mdns] Registering node: go.micro.srv.order-df144f06-d36e-4237-9155-98f20cfc8c02
2020-05-14 21:17:03.003143 I | Received Order.Submit request
2020-05-14 21:23:48.535395 I | Received Order.Submit request

notification$ go run main.go plugin.go 
2020-05-14 21:50:47.976696 I | Transport [http] Listening on [::]:54808
2020-05-14 21:50:47.976725 I | Broker [kafka] Connected to 127.0.0.1:9092
2020-05-14 21:50:47.976957 I | Registry [mdns] Registering node: go.micro.srv.notification-df7a6dad-44ef-4c1d-bb22-4ec5fca222d1
2020-05-14 21:50:47.990741 I | Subscribing go.micro.srv.notification-df7a6dad-44ef-4c1d-bb22-4ec5fca222d1 to topic: notification.submit
2020-05-14 21:54:52.431678 I | Handler Received message: ID为1 的用户购买了商品ID为：5 的物品


shop$ micro api --namespace=go.micro.srv
2020-05-14 21:16:12.183646 I | [api] Registering API Default Handler at /
2020-05-14 21:16:12.184782 I | [api] HTTP API Listening on [::]:8080
2020-05-14 21:16:12.185857 I | [api] Transport [http] Listening on [::]:50524
2020-05-14 21:16:12.187294 I | [api] Broker [http] Connected to [::]:50525
2020-05-14 21:16:12.187498 I | [api] Registry [mdns] Registering node: go.micro.api-c248d4d8-ce1b-4aa4-8957-61e369f396bf
::1 - - [14/May/2020:21:17:02 +0800] "POST /order/OrderService/Submit/ HTTP/1.1" 400 85 "" "PostmanRuntime/7.24.1"
::1 - - [14/May/2020:21:19:49 +0800] "POST /product/ProductService/Detail/ HTTP/1.1" 200 97 "" "PostmanRuntime/7.24.1"
::1 - - [14/May/2020:21:23:36 +0800] "POST /product/ProductService/Detail/ HTTP/1.1" 200 110 "" "PostmanRuntime/7.24.1"
::1 - - [14/May/2020:21:23:48 +0800] "POST /order/OrderService/Submit/ HTTP/1.1" 200 41 "" "PostmanRuntime/7.24.1"


